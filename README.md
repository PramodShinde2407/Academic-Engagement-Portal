# ğŸ“ Academic Engagement Portal

> **One Platform for All College Clubs, Events & Permissions**

A full-stack web application that digitizes and streamlines college club management, event organization, and permission workflows â€” replacing manual paperwork with a unified digital platform.

---

## ğŸ“‹ Table of Contents

- [Overview](#overview)
- [Tech Stack](#tech-stack)
- [User Roles](#user-roles)
- [Full Platform Flow](#full-platform-flow)
- [Features by Role](#features-by-role)
- [API Reference](#api-reference)
- [Database Schema](#database-schema)
- [Project Structure](#project-structure)
- [Setup & Installation](#setup--installation)
- [Environment Variables](#environment-variables)

---

## Overview

The Academic Engagement Portal solves the core problem of fragmented, manual college event management. Before this platform, students had to submit physical paperwork for event permissions, club information was scattered across notice boards and WhatsApp groups, and approval processes took days with no visibility.

**What we built:**
- âœ… Digital approval workflows â€” permissions approved in minutes
- âœ… Centralized hub for all clubs and events
- âœ… Real-time notifications for every action
- âœ… Role-based access control for students, club heads, mentors, and authorities
- âœ… Full participation tracking and activity history

---

## Tech Stack

| Layer | Technology |
|-------|-----------|
| **Frontend** | React.js, React Router, Axios |
| **Backend** | Node.js, Express.js (ES Modules) |
| **Database** | MySQL |
| **Auth** | JWT (JSON Web Tokens) |
| **File Uploads** | Multer (profile photos) |
| **Styling** | Vanilla CSS, Glassmorphism, CSS Variables |

---

## User Roles

The platform has **7 distinct roles**, each with specific permissions:

| Role ID | Role Name | Description |
|---------|-----------|-------------|
| 1 | **Student** | Browse clubs, join clubs, register for events, submit permission requests |
| 2 | **Club Head** | Manage their club, create events, approve/reject student applications, generate club head key |
| 3 | **Admin** | Create clubs, generate club mentor keys, view all data |
| 4 | **Admin (System)** | System-level admin access |
| 5 | **Club Mentor** | Oversee their assigned club, approve permission requests (first level), create events |
| 6 | **Estate Manager** | Second-level approval authority for permission requests |
| 7 | **Principal** | Third-level approval authority |
| 8 | **Director** | Final approval authority for permission requests |

---

## Full Platform Flow

### ğŸ” 1. Authentication Flow

```
User visits site â†’ Sign Up / Login
       â†“
  Choose Role (Student / Club Mentor / Club Head / Admin / Authority)
       â†“
  JWT token issued â†’ stored in localStorage
       â†“
  Role-based dashboard rendered
```

**Special Registration Keys:**
- **Club Mentor Key** â€” Generated by Admin when creating a club. A user signing up with this key is automatically linked as the club's mentor (`club_mentor_id`).
- **Club Head Key** â€” Generated by the Club Mentor for their club. A user signing up with this key is automatically linked as the club's head (`club_head_id`).

---

### ğŸ›ï¸ 2. Club Management Flow

```
Admin creates a club
       â†“
  Generates Club Mentor Key â†’ shares with faculty
       â†“
  Faculty signs up with key â†’ becomes Club Mentor
       â†“
  Club Mentor generates Club Head Key â†’ shares with student leader
       â†“
  Student signs up with key â†’ becomes Club Head
       â†“
  Club is now fully set up with Mentor + Head
```

**Student joining a club:**
```
Student browses Clubs page
       â†“
  Clicks "Join Club" â†’ submits application
       â†“
  Club Head reviews application (Approve / Reject)
       â†“
  If approved â†’ Student added as club member
       â†“
  Student + Club Head receive notifications
```

---

### ğŸ“… 3. Event Management Flow

```
Club Head / Club Mentor creates an event for their club
       â†“
  Event appears on the Events page for all users
       â†“
  Students browse events â†’ click "Register"
       â†“
  Registration form submitted
       â†“
  Club Head + Club Mentor receive notification of new registration
       â†“
  Student can view their registered events in their profile
```

**Who can create events:**
- âœ… Club Head (for their club)
- âœ… Club Mentor (for their assigned club)
- âŒ Students, Admins, Authorities â€” cannot create events

---

### ğŸ“ 4. Permission Request Flow

This is the core workflow â€” a multi-level approval chain for event permissions:

```
Student / Club Head submits Permission Request
       â†“
  Request routed to their Club's Mentor (Level 1)
       â†“
  Club Mentor reviews â†’ Approves or Rejects
       â†“  (if approved)
  Estate Manager reviews â†’ Approves or Rejects (Level 2)
       â†“  (if approved)
  Principal reviews â†’ Approves or Rejects (Level 3)
       â†“  (if approved)
  Director gives Final Approval (Level 4)
       â†“
  Club Head + Club Mentor receive final approval notification
```
 
**Key rules:**
- Each authority only sees requests relevant to their level
- Club Mentors only see requests from **their own club** (not all clubs)
- Real-time notifications at every stage
- Request status tracked: `pending â†’ approved / rejected`

---

### ğŸ”” 5. Notification System

Notifications are triggered automatically for:

| Event | Who Gets Notified |
|-------|------------------|
| Student joins club | Club Head |
| Student registers for event | Club Head + Club Mentor |
| Permission request submitted | Club Mentor |
| Permission approved at each level | Requester |
| Final permission approval | Club Head + Club Mentor |
| Club application approved/rejected | Student |

---

## Features by Role

### ğŸ‘¨â€ğŸ“ Student
- Browse all clubs and events
- Apply to join clubs
- Register for events
- Submit permission requests
- View personal profile with activity history
- Receive notifications for application status

### ğŸ‘‘ Club Head
- View and manage their club's details
- Approve or reject student club applications
- Create events for their club
- View enrolled students per event
- Generate Club Head Key for successor
- Submit permission requests on behalf of the club
- Receive notifications for registrations and approvals

### ğŸ“ Club Mentor
- View their assigned club
- Create events for their club
- First-level approval of permission requests (only their club's requests)
- View club members and event participants
- Receive notifications for all club activity

### ğŸ”§ Admin
- Create new clubs
- Generate Club Mentor Keys
- View all clubs and events (read-only for club management)
- Cannot create events or join clubs

### ğŸ›ï¸ Authorities (Estate Manager / Principal / Director)
- View pending permission requests at their approval level
- Approve or reject requests
- Receive notifications when requests reach their level

---

## API Reference

Base URL: `http://localhost:5000/api`

### Auth
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/auth/register` | Register a new user |
| POST | `/auth/login` | Login and receive JWT token |

### Users
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/users` | Get all users |
| GET | `/users/:id` | Get user by ID |
| PUT | `/users/:id` | Update user profile |

### Clubs
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/clubs` | Get all clubs |
| POST | `/clubs` | Create a new club (Admin) |
| GET | `/clubs/:id` | Get club details |
| PUT | `/clubs/:id` | Update club info |
| POST | `/clubs/:id/generate-key` | Generate Club Head Key (Club Mentor) |

### Events
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/events` | Get all events |
| POST | `/events` | Create a new event (Club Head / Mentor) |
| GET | `/events/:id` | Get event details |
| PUT | `/events/:id` | Update event |
| DELETE | `/events/:id` | Delete event |

### Club Registrations (Applications)
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/club-registrations` | Apply to join a club |
| GET | `/club-registrations/club/:id` | Get applications for a club |
| PUT | `/club-registrations/:id/approve` | Approve application |
| PUT | `/club-registrations/:id/reject` | Reject application |

### Club Members
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/club-members/:clubId` | Get members of a club |
| POST | `/club-members` | Add a member to a club |
| DELETE | `/club-members/:id` | Remove a member |

### Event Registrations
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/event-registrations` | Register for an event |
| GET | `/event-registrations/my` | Get current user's registrations |
| GET | `/event-registrations/event/:id` | Get registrations for an event |

### Permissions
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/permissions` | Submit a permission request |
| GET | `/permissions` | Get all permissions (role-filtered) |
| GET | `/permissions/my` | Get current user's requests |
| PUT | `/permissions/:id/approve` | Approve a request |
| PUT | `/permissions/:id/reject` | Reject a request |

### Notifications
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/notifications` | Get current user's notifications |
| PUT | `/notifications/:id/read` | Mark notification as read |
| PUT | `/notifications/read-all` | Mark all as read |

### Approvals
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/approvals` | Get pending approvals for current authority |
| POST | `/approvals/:id` | Submit approval decision |

---

## Database Schema

### Core Tables

```
user
â”œâ”€â”€ user_id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ email
â”œâ”€â”€ password (hashed)
â”œâ”€â”€ role_id (FK â†’ role)
â”œâ”€â”€ department
â”œâ”€â”€ year
â”œâ”€â”€ club_id (FK â†’ club, for Club Head/Mentor)
â””â”€â”€ photo_url

role
â”œâ”€â”€ role_id (PK)
â””â”€â”€ role_name

club
â”œâ”€â”€ club_id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ description
â”œâ”€â”€ club_head_id (FK â†’ user)
â”œâ”€â”€ club_mentor_id (FK â†’ user)
â”œâ”€â”€ secret_key (Club Head Key)
â”œâ”€â”€ club_mentor_key
â””â”€â”€ active_members

event
â”œâ”€â”€ event_id (PK)
â”œâ”€â”€ title
â”œâ”€â”€ description
â”œâ”€â”€ date
â”œâ”€â”€ venue
â”œâ”€â”€ club_id (FK â†’ club)
â””â”€â”€ organizer_id (FK â†’ user)

club_application
â”œâ”€â”€ application_id (PK)
â”œâ”€â”€ user_id (FK â†’ user)
â”œâ”€â”€ club_id (FK â†’ club)
â”œâ”€â”€ status (pending/approved/rejected)
â””â”€â”€ applied_at

event_registration
â”œâ”€â”€ registration_id (PK)
â”œâ”€â”€ user_id (FK â†’ user)
â”œâ”€â”€ event_id (FK â†’ event)
â””â”€â”€ registered_at

permission_request
â”œâ”€â”€ request_id (PK)
â”œâ”€â”€ user_id (FK â†’ user)
â”œâ”€â”€ club_id (FK â†’ club)
â”œâ”€â”€ title
â”œâ”€â”€ description
â”œâ”€â”€ status
â”œâ”€â”€ current_level (1=Mentor, 2=Estate, 3=Principal, 4=Director)
â””â”€â”€ created_at

notification
â”œâ”€â”€ notification_id (PK)
â”œâ”€â”€ user_id (FK â†’ user)
â”œâ”€â”€ message
â”œâ”€â”€ is_read
â”œâ”€â”€ request_id (FK â†’ permission_request, optional)
â””â”€â”€ created_at
```

---

## Project Structure

```
Academic-Engagement-Portal/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js              # Express app setup, routes registration
â”‚   â”‚   â”œâ”€â”€ server.js           # Server entry point
â”‚   â”‚   â”œâ”€â”€ controllers/        # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ club.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ event.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ permission.controller.js
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.controller.js
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ models/             # Database query functions
â”‚   â”‚   â”œâ”€â”€ routes/             # API route definitions
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”‚   â”‚   â”œâ”€â”€ club.routes.js
â”‚   â”‚   â”‚   â”œâ”€â”€ event.routes.js
â”‚   â”‚   â”‚   â”œâ”€â”€ permission.routes.js
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.routes.js
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ middlewares/        # Auth, error handling
â”‚   â”‚   â””â”€â”€ config/             # DB connection
â”‚   â”œâ”€â”€ uploads/                # Profile photo storage
â”‚   â””â”€â”€ database/               # SQL migration scripts
â”‚
â””â”€â”€ frontend/
    â””â”€â”€ src/
        â”œâ”€â”€ pages/
        â”‚   â”œâ”€â”€ HomePage.js         # Landing page with hero, stats, clubs, events
        â”‚   â”œâ”€â”€ Clubs.js            # All clubs listing
        â”‚   â”œâ”€â”€ ClubDetails.js      # Individual club page
        â”‚   â”œâ”€â”€ ClubApplications.js # Club join applications (Club Head view)
        â”‚   â”œâ”€â”€ Events.js           # All events listing
        â”‚   â”œâ”€â”€ EventDetails.js     # Individual event page
        â”‚   â”œâ”€â”€ EventRegisterPage.js# Event registration form
        â”‚   â”œâ”€â”€ MyEvents.js         # Club Mentor's event management
        â”‚   â”œâ”€â”€ Account.js          # User profile page
        â”‚   â””â”€â”€ AdminCreateEvent.js # Event creation form
        â”œâ”€â”€ components/
        â”‚   â”œâ”€â”€ Navbar.js           # Role-aware navigation
        â”‚   â”œâ”€â”€ Card.js             # Club card component
        â”‚   â”œâ”€â”€ EventCard.js        # Event card component
        â”‚   â””â”€â”€ ...
        â””â”€â”€ api/
            â””â”€â”€ axios.js            # Axios instance with auth headers
```

---

## Setup & Installation

### Prerequisites
- Node.js v18+
- MySQL 8.0+
- npm or yarn

### 1. Clone the repository
```bash
git clone https://github.com/PramodShinde2407/Academic-Engagement-Portal.git
cd Academic-Engagement-Portal
```

### 2. Set up the database
```bash
# Create the database in MySQL
mysql -u root -p
CREATE DATABASE college_db;
USE college_db;

# Run the schema (from the database folder)
# Run the complete database setup (includes all tables and initial data)
# Using MySQL Command Line:
mysql -u root -p college_db < backend/database/full_backup.sql

# OR using MySQL Workbench:
# Server > Data Import > Import from Self-Contained File > Select 'backend/database/full_backup.sql'
```

### 3. Configure the backend
```bash
cd backend
cp .env.example .env
# Edit .env with your database credentials (see Environment Variables below)
npm install
npm run dev
```

### 4. Configure the frontend
```bash
cd frontend
npm install
npm start
```

### 5. Access the app
| Service | URL |
|---------|-----|
| Frontend | http://localhost:3000 |
| Backend API | http://localhost:5000 |

---

## Environment Variables

Create a `.env` file in the `backend/` directory:

```env
# Database
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=college_db
DB_PORT=3306

# JWT
JWT_SECRET=your_super_secret_jwt_key

# Server
PORT=5000
```

---

## ğŸ”‘ First-Time Setup (Creating Roles & Admin)

After setting up the database, insert the roles and an initial admin user:

```sql
-- Insert roles
INSERT INTO role (role_name) VALUES
  ('Student'),
  ('Club Head'),
  ('Admin'),
  ('System Admin'),
  ('Club Mentor'),
  ('Estate Manager'),
  ('Principal'),
  ('Director');

-- Create initial admin user (password should be hashed in production)
INSERT INTO user (name, email, password, role_id)
VALUES ('Admin User', 'admin@college.edu', '<hashed_password>', 3);
```

---

## ğŸš€ Typical First-Run Workflow

1. **Admin logs in** â†’ Creates a club â†’ Gets a `club_mentor_key`
2. **Faculty member signs up** using the `club_mentor_key` â†’ Becomes Club Mentor
3. **Club Mentor logs in** â†’ Generates a `secret_key` (Club Head Key)
4. **Student leader signs up** using the `secret_key` â†’ Becomes Club Head
5. **Club Head logs in** â†’ Can now manage the club, create events, approve applications
6. **Students** browse clubs â†’ Apply to join â†’ Club Head approves
7. **Students** browse events â†’ Register â†’ Club Head + Mentor notified
8. **Students/Club Head** submit permission requests â†’ Flows through approval chain

---

## ğŸ“¸ Screenshots

| Page | Description |
|------|-------------|
| Homepage | Hero section, stats, featured clubs & events |
| Clubs | All clubs with join/details buttons |
| Club Details | Members, events, applications for that club |
| Events | All upcoming events with register button |
| Event Details | Full event info, enrolled students |
| My Events | Club Mentor's event creation & management |
| Account | User profile with photo upload |

---

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/your-feature`
3. Commit your changes: `git commit -m 'Add your feature'`
4. Push to the branch: `git push origin feature/your-feature`
5. Open a Pull Request

---

## ğŸ“„ License

This project is developed as part of an In-House Internship at the college. All rights reserved.

---

*Built with â¤ï¸ to make college life more organized and connected.*
